{"ast":null,"code":"import moment from\"moment\";import React,{useEffect}from\"react\";import{stagecols}from\"./bands\";import html2canvas from\"html2canvas\";import{bands as defaultBands}from\"./bands\";var DayPlan=function DayPlan(_ref){var bands=_ref.bands,setBands=_ref.setBands,setSite=_ref.setSite,site=_ref.site,setStep=_ref.setStep;//Needs to order bands by time\n//Show clashes\n//Allow option to start again\n//Allow option to save as image\nvar minutesOfDate=function minutesOfDate(time){var splitTime=time.split(\":\");var minutes=parseInt(splitTime[0]*60)+parseInt(splitTime[1]);return minutes;};var sortedBands=bands.sort(function(a,b){return minutesOfDate(a.start)-minutesOfDate(b.start);});useEffect(function(){localStorage.setItem(\"slamDunkBands\",JSON.stringify(sortedBands));localStorage.setItem(\"slamDunkSite\",site);},[sortedBands,site]);var createDownload=function createDownload(){html2canvas(document.getElementById(\"dayplan\")).then(function(canvas){var image=canvas.toDataURL().replace(\"image/png\",\"image/octet-stream\");var a=document.createElement(\"a\");a.href=image;a.download=\"dayplan.png\";a.click();});};var reset=function reset(){localStorage.removeItem(\"slamDunkBands\");localStorage.removeItem(\"slamDunkSite\");setBands(defaultBands);setSite();setStep(0);};return/*#__PURE__*/React.createElement(\"div\",{className:\"w-full text-center\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"text-red-600 font-extrabold my-2 text-center capitalize\"},\"Here's your day plan for Slam Dunk \",site),/*#__PURE__*/React.createElement(\"p\",{className:\"text-xs text-center\"},\"Your personalised plan has saved to your browser so it'll be here when you revisit. Don't forget to bookmark this site or add it to your homescreen\"),/*#__PURE__*/React.createElement(\"p\",{onClick:function onClick(){return createDownload();},className:\"bg-red-600 text-white rounded m-auto py-1 px-2 text-xs inline-block font-extrabold text-center mt-2 cursor-pointer transition-all hover:opacity-75\"},\"Save Day Plan\"),/*#__PURE__*/React.createElement(\"p\",{onClick:function onClick(){return reset();},className:\"bg-yellow-400 text-black rounded m-auto py-1 px-2 text-xs inline-block font-extrabold text-center mt-2 ml-2 cursor-pointer transition-all hover:opacity-75\"},\"Start Again\"),/*#__PURE__*/React.createElement(\"div\",{id:\"dayplan\",className:\"p-1 grid grid-cols-1 md:grid-cols-2 gap-2\"},sortedBands.map(function(b,i){return/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(stagecols.background[b.stage],\" rounded w-full my-4 text-center shadow-xl\"),key:i},/*#__PURE__*/React.createElement(\"p\",{className:\"\".concat(stagecols.text[b.stage],\" font-extrabold uppercase text-xl mb-1 px-2 pt-2\")},b.name),/*#__PURE__*/React.createElement(\"p\",{className:\"\".concat(stagecols.text[b.stage],\" text-lg font-light px-2\")},b.stage),/*#__PURE__*/React.createElement(\"p\",{className:\"\".concat(stagecols.text[b.stage],\" font-extrabold uppercase text-sm mb-1 px-2 pb-2\")},\"Starts: \",b.start,\" (\",moment(\"08/04/2021 \"+b.start).format(\"h:mm a\"),\") \",/*#__PURE__*/React.createElement(\"br\",null),\"Ends: \",b.end,\" (\",moment(\"08/04/2021 \"+b.end).format(\"h:mm a\"),\")\"),i<bands.length-1&&minutesOfDate(b.end)>minutesOfDate(bands[i+1].start)&&/*#__PURE__*/React.createElement(\"div\",{className:\"w-full bg-yellow-400 text-black p-2 text-xs font-extrabold\"},\"CLASH ALERT\",/*#__PURE__*/React.createElement(\"br\",null),\"The end of this set is after your next band starts\"));})));};export default DayPlan;","map":{"version":3,"sources":["/Users/marktiddy/Developer/personal-projects/slam-dunk-day-planner/src/DayPlan.jsx"],"names":["moment","React","useEffect","stagecols","html2canvas","bands","defaultBands","DayPlan","setBands","setSite","site","setStep","minutesOfDate","time","splitTime","split","minutes","parseInt","sortedBands","sort","a","b","start","localStorage","setItem","JSON","stringify","createDownload","document","getElementById","then","canvas","image","toDataURL","replace","createElement","href","download","click","reset","removeItem","map","i","background","stage","text","name","format","end","length"],"mappings":"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","sourcesContent":["import moment from \"moment\";\nimport React, { useEffect } from \"react\";\nimport { stagecols } from \"./bands\";\nimport html2canvas from \"html2canvas\";\nimport { bands as defaultBands } from \"./bands\";\n\nconst DayPlan = ({ bands, setBands, setSite, site, setStep }) => {\n  //Needs to order bands by time\n  //Show clashes\n  //Allow option to start again\n  //Allow option to save as image\n  const minutesOfDate = (time) => {\n    const splitTime = time.split(\":\");\n    const minutes = parseInt(splitTime[0] * 60) + parseInt(splitTime[1]);\n    return minutes;\n  };\n\n  const sortedBands = bands.sort(\n    (a, b) => minutesOfDate(a.start) - minutesOfDate(b.start)\n  );\n\n  useEffect(() => {\n    localStorage.setItem(\"slamDunkBands\", JSON.stringify(sortedBands));\n    localStorage.setItem(\"slamDunkSite\", site);\n  }, [sortedBands, site]);\n\n  const createDownload = () => {\n    html2canvas(document.getElementById(\"dayplan\")).then((canvas) => {\n      const image = canvas\n        .toDataURL()\n        .replace(\"image/png\", \"image/octet-stream\");\n      const a = document.createElement(\"a\");\n      a.href = image;\n      a.download = \"dayplan.png\";\n      a.click();\n    });\n  };\n\n  const reset = () => {\n    localStorage.removeItem(\"slamDunkBands\");\n    localStorage.removeItem(\"slamDunkSite\");\n    setBands(defaultBands);\n    setSite();\n    setStep(0);\n  };\n\n  return (\n    <div className=\"w-full text-center\">\n      <h2 className=\"text-red-600 font-extrabold my-2 text-center capitalize\">\n        Here's your day plan for Slam Dunk {site}\n      </h2>\n      <p className=\"text-xs text-center\">\n        Your personalised plan has saved to your browser so it'll be here when\n        you revisit. Don't forget to bookmark this site or add it to your\n        homescreen\n      </p>\n      <p\n        onClick={() => createDownload()}\n        className=\"bg-red-600 text-white rounded m-auto py-1 px-2 text-xs inline-block font-extrabold text-center mt-2 cursor-pointer transition-all hover:opacity-75\"\n      >\n        Save Day Plan\n      </p>\n      <p\n        onClick={() => reset()}\n        className=\"bg-yellow-400 text-black rounded m-auto py-1 px-2 text-xs inline-block font-extrabold text-center mt-2 ml-2 cursor-pointer transition-all hover:opacity-75\"\n      >\n        Start Again\n      </p>\n      <div id=\"dayplan\" className=\"p-1 grid grid-cols-1 md:grid-cols-2 gap-2\">\n        {sortedBands.map((b, i) => {\n          return (\n            <div\n              className={`${\n                stagecols.background[b.stage]\n              } rounded w-full my-4 text-center shadow-xl`}\n              key={i}\n            >\n              <p\n                className={`${\n                  stagecols.text[b.stage]\n                } font-extrabold uppercase text-xl mb-1 px-2 pt-2`}\n              >\n                {b.name}\n              </p>\n              <p\n                className={`${stagecols.text[b.stage]} text-lg font-light px-2`}\n              >\n                {b.stage}\n              </p>\n              <p\n                className={`${\n                  stagecols.text[b.stage]\n                } font-extrabold uppercase text-sm mb-1 px-2 pb-2`}\n              >\n                Starts: {b.start} (\n                {moment(\"08/04/2021 \" + b.start).format(\"h:mm a\")}) <br />\n                Ends: {b.end} ({moment(\"08/04/2021 \" + b.end).format(\"h:mm a\")})\n              </p>\n              {i < bands.length - 1 &&\n                minutesOfDate(b.end) > minutesOfDate(bands[i + 1].start) && (\n                  <div className=\"w-full bg-yellow-400 text-black p-2 text-xs font-extrabold\">\n                    CLASH ALERT\n                    <br />\n                    The end of this set is after your next band starts\n                  </div>\n                )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\nexport default DayPlan;\n"]},"metadata":{},"sourceType":"module"}